
<input type="hidden" name="document[attachment][type]" value="html">

{%- call appContextualGuidance({
  id: 'contextual-guidance-01',
  for: 'title',
  heading: {
    text: 'Writing a title'
  },
  description: {
    text: 'The title must be unique and specific, and make clear what the content offers users in their words. It will appear on the publication page in the list of attachments.'
  }
}) %}

  {{ govukTextarea({
    id: "title",
    name: "document[attachment][title]",
    label: {
      text: "Title",
      classes: "govuk-!-font-weight-bold"
    },
    rows: 2,
    value: attachment.title if attachment.title
  }) }}

{% endcall -%}

{% set bodyGuidanceHtml %}
  {% include "./_guidance-body-text.html" %}
{% endset %}

{%- call appContextualGuidance({
  id: 'contextual-guidance-02',
  for: 'body',
  heading: {
    text: 'Writing content'
  },
  description: {
    html: bodyGuidanceHtml
  }
}) %}

  {{ appMarkdownEditor({
    attributes: {
      id: "markdown-editor"
    },
    label: {
      text: "Body",
      classes: "govuk-!-font-weight-bold"
    },
    insertMenu: appToolbarDropdown({
      items: [
        {
          element: "button",
          text: "Attachment",
          type: "button",
          name: "attachment",
          attributes: {
            "data-toggle": "modal",
            "data-target": "modal-attachments"
          }
        },
        {
          element: "button",
          text: "Contact",
          type: "button",
          name: "contact",
          attributes: {
            "data-toggle": "modal",
            "data-target": "modal-contact"
          }
        },
        {
          element: "button",
          text: "Image",
          type: "button",
          name: "image",
          attributes: {
            "data-toggle": "modal",
            "data-target": "modal-image"
          }
        },
        {
          element: "button",
          text: "Video",
          type: "button",
          name: "video",
          attributes: {
            "data-toggle": "modal",
            "data-target": "modal-video"
          }
        }
      ],
      classes: "app-c-toolbar-dropdown--end",
      attributes: {
        "id": "toolbar-dropdown",
        "data-module": "toolbar-dropdown"
      }
    }),
    textarea: {
      id: "body",
      name: "document[attachment][body]",
      rows: 20,
      attributes: {
        spellcheck: false
      }
    },
    value: attachment.body if attachment.body
  }) }}

{% endcall -%}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    {{ govukCheckboxes({
      idPrefix: "attachment-unnumbered-headings",
      name: "document[attachment][unnumbered_headings]",
      items: [
        {
          value: "yes",
          text: "Remove numbers in headings",
          hint: {
            text: "Headings in HTML attachments are numbered by default. Tick the box to choose unnumbered headings or to include a different numbering system."
          },
          checked: true if attachment.unnumbered_headings == "yes"
        }
      ]
    }) }}
  </div>
</div>

{#%- set headingGuidanceHtml %}
<p class="govuk-body">Manually number your headings using your own numbering scheme.</p>
<ul class="govuk-list">
  <li>## 1. First heading</li>
  <li>### 1.1 First sub-heading</li>
  <li>### Unnumbered sub-heading</li>
  <li>### 1.2 Second sub-heading</li>
  <li>### Unnumbered sub-heading</li>
  <li>### Unnumbered sub-heading</li>
  <li>## 2. Second heading</li>
</ul>
{% endset -%#}

{#{ govukDetails({
  summaryText: "[HEADING NUMBERS GUIDANCE]",
  html: headingGuidanceHtml
}) }#}
